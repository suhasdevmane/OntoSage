version: "3.1"

stories:
  - story: happy path sensor query with timeseries
    steps:
      - intent: Questions_to_brickbot
      - action: sensor_form
      - active_loop: sensor_form
      - intent: provide_sensor_type
      - slot_was_set:
          - sensor_type: ["Air_Temperature_Sensor_5.01"]
      - action: sensor_form
      - active_loop: null
      - action: action_question_to_brickbot
      - slot_was_set:
          - sparql_error: false
      - slot_was_set:
          - timeseries_ids: ["249a4c9c-fe31-4649-a119-452e5e8e7dc5"]
      - intent: provide_start_date
      - slot_was_set:
          - start_date: "01/02/2025"
      - intent: provide_end_date
      - slot_was_set:
          - end_date: "02/02/2025"
      - action: action_process_timeseries
      - action: action_reset_slots

  - story: sensor query without timeseries (summary only)
    steps:
      - intent: Questions_to_brickbot
      - action: sensor_form
      - active_loop: sensor_form
      - intent: provide_sensor_type
      - slot_was_set:
          - sensor_type: ["Air_Quality_Sensor_5.01"]
      - action: sensor_form
      - active_loop: null
      - action: action_question_to_brickbot
      - slot_was_set:
          - sparql_error: false
      - slot_was_set:
          - timeseries_ids: null
      - action: utter_no_dates_needed
      - action: action_reset_slots

  - story: test share artifacts action
    steps:
      - intent: test_action_server
      - action: action_generate_and_share_data
